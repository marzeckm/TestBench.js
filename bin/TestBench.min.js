const styleEl=document.createElement("style");styleEl.innerHTML=".TestBench,body,html{min-height:100%;width:100%}*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;margin:0}body,html{padding:0;background-color:#141618;color:#fff}.TestBench .header{width:100%;padding:1rem;background-color:rgba(15,85,18,.5)}.TestBench .test-result.error,.TestBench.error .header{background-color:rgba(85,15,15,.5)}.TestBench .container{padding:1rem}.TestBench .test-result{padding:.25rem .5rem;margin-bottom:.25rem;border-radius:.25rem}.TestBench .test-result.success{background-color:rgba(15,85,18,.2)}.TestBench h1{margin:0 0 .5rem}.TestBench h3{margin:1rem 0 .5rem}.TestBench h3:first-of-type{margin-top:0}.TestBench .context{color:rgba(120,120,120);font-style:italic;padding:.5rem .25rem}",document.querySelector("head").appendChild(styleEl);const HtmlService=function(){return{createHtmlElement(e,t,s,i){let n=document.createElement(e);n.innerHTML=t;let o=i?Object.keys(i):[];for(var a=0;a<o.length;a++)n.setAttribute(o[a],i[o[a]]);s.appendChild(n)},addClass(e,t){e.classList.add(t)},setAttributes(e,t){let s=Object.keys(t);for(var i=0;i<s;i++)e.setAttribute(s[i],t[s[i]])}}},ResultType=function(){return{SUCCESS:"success",ERROR:"error"}},ArrayLikeMatchers=function(e,t,s,i){return{value:e,isNot:t=t||!1,context:s=s||null,name:i=i||"",not:t?void 0:ArrayLikeMatchers(e,!0,s,i),withContext:function(s){return ArrayLikeMatchers(e,t,s,i)},toBeTruthy:function(){this._evaluateTest(!!this.value==!this.isNot,"to be truthy")},toEqual:function(e){this._evaluateTest(JSON.stringify(this.value)===JSON.stringify(e)==!this.isNot,this._toBeTextWithValue("to Equal",e))},toBeNull:function(){this._evaluateTest(null===this.value==!this.isNot,"to be null")},toBeInstanceOf:function(e){this._evaluateTest(typeof this.value===e==!this.isNot,this._toBeTextWithValue("to be instance of",e))},toBeTrue:function(){this._evaluateTest(!this.isNot===this.value,"to be true")},toBeUndefined:function(){this._evaluateTest(void 0===this.value==!this.isNot,"to be undefined")},toHaveBeenCalledTimes:function(e){TestBench().$isSpy(this.value)?(this.name=this.value.getName(),this._evaluateTest(this.value.haveBeenCalledTimes()===e==!this.isNot,this._toBeTextWithValue("to have been called times:",e))):console.error("The specified value to check is not a TestBench.Spy!")},toHaveBeenCalledOnceWith:function(){let e=Array.prototype.slice.call(arguments);TestBench().$isSpy(this.value)?(this.name=this.value.getName(),this._evaluateTest((1===this.value.haveBeenCalledTimes()&&JSON.stringify(this.value.getStoredParams())===JSON.stringify(e))==!this.isNot,"to have been called once with")):console.error("The specified value to check is not a TestBench.Spy!")},toBeFalse:function(){this._evaluateTest(!1===this.value==!this.isNot,"to be false")},toBeFalsy:function(){this._evaluateTest(!this.value==!this.isNot,"to be falsy")},toHaveBeenCalledWith:function(){let e=Array.prototype.slice.call(arguments);TestBench().$isSpy(this.value)?(this.name=this.value.getName(),this._evaluateTest(JSON.stringify(this.value.getStoredParams())===JSON.stringify(e)==!this.isNot,"to have been called with")):console.error("The specified value to check is not a TestBench.Spy!")},toHaveBeenCalled:function(){TestBench().$isSpy(this.value)?(this.name=this.value.getName(),this._evaluateTest(this.value.haveBeenCalledTimes()>0==!this.isNot,"to have been called")):console.error("The specified value to check is not a TestBench.Spy!")},toBe:function(e){this._evaluateTest(this.value===e==!this.isNot,this._toBeTextWithValue("to be",e))},toBeCloseTo:function(e,t){let s=10**(t||2);this._evaluateTest(Math.round(this.value*s)/s==Math.round(e*s)/s==!this.isNot,this._toBeTextWithValue("to be close to",e))},toBeDefined:function(){this._evaluateTest(void 0!==this.value==!this.isNot,"to be defined")},toBeGreaterThan:function(e){this._evaluateTest(this.value>e==!this.isNot,this._toBeTextWithValue("to be greater than",e))},toBeGreaterThanOrEqual:function(e){this._evaluateTest(this.value>=e==!this.isNot,this._toBeTextWithValue("to be greater than or equal",e))},toBeLessThan:function(e){this._evaluateTest(this.value<e==!this.isNot,this._toBeTextWithValue("to be less than",e))},toBeLessThanOrEqual:function(e){this._evaluateTest(this.value<=e==!this.isNot,"to be less than or equal")},toBeNaN:function(){this._evaluateTest(isNaN(this.value)===!this.isNot,"to be NaN")},toBeNegativeInfinity:function(){this._evaluateTest(this.value===-1/0==!this.isNot,"to be negative Infinity")},toBePositiveInfinity:function(){this._evaluateTest(this.value===1/0==!this.isNot,"to be positive Infinity")},toContain:function(e){try{this._evaluateTest(this.value.indexOf(e)>=0==!this.isNot,this._toBeTextWithValue("to contain",e))}catch(t){this._evaluateTest(Object.keys(this.value).indexOf(e)>=0==!this.isNot,this._toBeTextWithValue("to contain",e))}},toHaveBeenCalledBefore:function(e){TestBench().$isSpy(this.value)&&TestBench().$isSpy(e)?(this.name=this.value.getName(),this._evaluateTest(this.value.firstCalled()<e.firstCalled()==!this.isNot,this._toBeTextWithValue("to have been called before",e))):console.error("The specified value / expected to check is not a TestBench.Spy!")},toHaveClass:function(e){this.value instanceof Element?this._evaluateTest(this.value.classList.value.indexOf(e)>=0==!this.isNot,this._toBeTextWithValue("to have class",e)):console.error("The specified value to check is not a DOM-Element")},toHaveSize:function(e){this._evaluateTest(Object.keys(this.value).length==e==!this.isNot,this._toBeTextWithValue("to have size",e))},toMatch:function(e){this._evaluateTest((e instanceof RegExp?e.test(this.value):this.value.indexOf(e)>=0)===!this.isNot,this._toBeTextWithValue("to match",e))},toThrow:function(e){e=e||null;try{this.value()}catch(t){this._evaluateTest((!e||t.name===e.name)==!this.isNot,this._toBeTextWithValue("to throw",e||""))}},toThrowError:function(e,t){e=e||null,t=t||null;try{this.value()}catch(s){this._evaluateTest((!e||this._compareError(s,e))===!this.isNot,this._toBeTextWithValue("to throw error",e||""))}},toThrowMatching:function(e){try{this.value()}catch(t){this._evaluateTest(e(t)===!this.isNot,this._toBeTextWithValue("to throw matching",e||""))}},_evaluateTest:function(e,t){if(e?this._testPassed(t):this._testFailed(t),this._setHtmlResultNumbers(),this.context){let s=["Context:",this.context].join(" ");console.log(["%c",s].join(""),"font-style: italic; color: grey;"),testBench.htmlService.createHtmlElement("div",s,document.querySelector(".TestBench .container"),{class:"context"})}},_getExpectationText(e){return["Expect",this.name?this.name:this._valueInParenthesis(),this.isNot?"not":"",e].join(" ")},_valueInParenthesis(){return['"',this._getValueName(this.value)+'"'].join("")},_getValueName:e=>TestBench().$isSpy(e)?e.getName()?e.getName():e.name:"function"==typeof e?e.name:e,_toBeTextWithValue(e,t){return[e,['"',this._getValueName(t)+'"'].join("")].join(" ")},_testPassed(e){let t=[this._getExpectationText(e),"(passed)"].join(" ");console.log(["%c",t].join(""),"color: green;"),TestBench().printResult(t,ResultType().SUCCESS)},_testFailed(e){let t=[this._getExpectationText(e),"(failed)"].join(" ");console.log(["%c",t].join(""),"color: red;"),TestBench().printResult(t,ResultType().ERROR),testBench.failedExpectations+=1,document.querySelector(".header").style="background-color: rgba(85, 15, 15, 0.8);"},_setHtmlResultNumbers(){document.querySelector("#success").innerHTML=testBench.runnedExpectations-testBench.failedExpectations,document.querySelector("#all").innerHTML=testBench.runnedExpectations},_compareError:(e,t)=>e.name===t.name&&e.message===t.message}},Func=function(){return function(e=null,t=null){var s=0,i=null,n=void 0,o=null,a=null,l=[];function r(){let r=TestBench().$getBrowserTime()+1;for(;TestBench().$getBrowserTime()<r;);return s++,i||(i=r-1),t&&t.apply(null,arguments),e&&(a=e),o&&o.apply(null,arguments),l=Array.prototype.slice.call(arguments),n}return r.haveBeenCalledTimes=function(){return s},r.firstCalled=function(){return i},r.getName=function(){return a},r.getStoredParams=function(){return l},r.and={returnValue:function(e){return n=e,r},callFake:function(e){return o=e,r}},r}},TestBench=function(){return{componentName:null,runnedAssertions:0,failedExpectations:0,runnedAssertionName:"",runnedExpectations:0,runnedLocalExpectations:0,beforeEachAction:null,ArrayLikeMatchers:ArrayLikeMatchers,createSpy:Func(),htmlService:HtmlService(),$isSpy:e=>!!e&&!!e.haveBeenCalledTimes&&!!e.getName&&!!e.getStoredParams&&!!e.firstCalled&&"number"==typeof e.haveBeenCalledTimes()&&void 0!==e.getName()&&"object"==typeof e.getStoredParams()&&void 0!==e.firstCalled(),$getBrowserTime(){return this._supportsMicroseconds()?new Date().getTime():this._getMicroSeconds()},printResult(e,t){this._print("div",e,{class:["test-result",t+""].join(" ")})},_getMicroSeconds:()=>1e3*new Date().getTime()+1e3*performance.now(),_supportsMicroseconds:()=>"object"==typeof performance&&"function"==typeof performance.now,_print(e,t,s){this.htmlService.createHtmlElement(e,t,document.querySelector(".TestBench .container"),s)},_setHtmlTestCounters(){}}},describe=function(e,t){(testBench=TestBench()).componentName=e,testBench.runnedExpectations=0,document.querySelector(".TestBench")||testBench.htmlService.createHtmlElement("div","",document.body,{class:"TestBench"}),testBench.htmlService.createHtmlElement("div","",document.querySelector(".TestBench"),{class:"header"}),testBench.htmlService.createHtmlElement("div","",document.querySelector(".TestBench"),{class:"container"});let s=document.querySelector(".header");testBench.htmlService.createHtmlElement("h1",["Tests for:",e].join(" "),s),testBench.htmlService.createHtmlElement("h2",'<span id="success">0</span> / <span id="all">0</span> successful',s),console.log(["%c","Test: ",e].join(""),"font-weight: 700; font-size: 1.25em;"),t(),testBench.runnedAssertions<=0&&console.error("No assertions found!");let i=testBench.runnedExpectations-testBench.failedExpectations;console.log("\n%c"+[i,"/",testBench.runnedExpectations,"tests passed"].join(" "),"color: green; font-size: 1.25em;"),testBench.failedExpectations>0&&console.log("%c"+[testBench.failedExpectations,"/",testBench.runnedExpectations,"tests failed"].join(" "),"color: red; font-size: 1.25em;")},beforeEach=function(e){testBench.beforeEachAction=e},it=function(e,t){void 0!==this.testBench?(testBench.runnedAssertions+=1,testBench.runnedAssertionName=e,testBench.runnedLocalExpectations=0,TestBench().htmlService.createHtmlElement("h3",["Expectation:","It",e].join(" "),document.querySelector(".TestBench .container")),testBench.beforeEachAction&&testBench.beforeEachAction(),console.log(["%c",e].join(""),"font-weight: 700;"),t(),testBench.runnedLocalExpectations<=0&&console.log("%cNo expectations for test case found!","color: red; font-style: italic;")):console.error("Tests must be runned inside describe function!")},expect=function(e){let t=testBench.ArrayLikeMatchers(e);return testBench.runnedExpectations+=1,testBench.runnedLocalExpectations+=1,t};function fakeAsync(e){return function(){let t=[],s=[],i=function(){for(;t.length>0;)t.shift()()},n=function(){for(;s.length>0;)s.shift()()},o=function(e){return function(){let s=function(){e(),i(),n()};t.push(s)}},a=tick;tick=function(e=0){i(),n(),setTimeout(function(){},e)};let l=window.setTimeout;window.setTimeout=function(e,t){let o=function(){e(),i(),n()};s.push(o)},e(tick,o),window.setTimeout=l,tick=a}}var testBench,tick=function(e=0){let t=new Date().getTime();for(var s=t;s-t<e;)s=new Date().getTime()};